const sceneText = `
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . k k k k k . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . k . . . . . k . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . k . . . . . . k . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . k . . . . . k . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . k k k k k . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . 1 . . . 2 . . . 3 . . . 4 . . . 5 . . . 6 . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
---
bg city ultralarge
weather clear
1: philosopher
2: rhetorician
3: logician
4: geometer
5: mentalist
6: trickster
k: skeleton`;

const lines = sceneText.trim().split('\n');
let units = [];

for (let y = 0; y < lines.length; y++) {
  const line = lines[y];
  if (line === '---') break; // Stop at metadata
  
  for (let x = 0; x < line.length; x++) {
    const char = line[x];
    if (char !== ' ' && char !== '.') {
      units.push({ char, x, y });
    }
  }
}

console.log('Found units:', units);
